#!/bin/bash
#set -vx

##シェルスクリプト概要===================================================================
# 本スクリプトは、検証用に新規構築するCentOS7の最低限の初期設定を行うためのスクリプトです
# 具体的には、https://centossrv.com/centos7-init.shtml の手順を元にし、以下を実行する予定
# です。
# ・新規ユーザー作成
# ・新規作成したユーザーのWheelグループ参加
# ・Wheelグループのみsu使用可能設定
# ・/etc/pam.d/suにて、rootユーザーのターミナルログイン禁止
# ・yum初期設定(yum-cron設定含む)の実行
# ・SELinux無効化
# ・nkfコマンドインストール
#========================================================================================

#========================================================================================
# 変数
#========================================================================================
# 本シェルスクリプトのOS判定用変数
os_ver=''

#========================================================================================
# 各種判定処理
#========================================================================================

### 実行ユーザー確認 ####################################################################

if [ "${USER}" != "root" ]; then
	echo "本スクリプトはrootユーザーで実行してください"

	echo 1

fi

### 実行OS確認 ##########################################################################

if [ -e /etc/centos-release ]; then

	os_ver=`cat /etc/centos-release`

	if [ "${os_ver}" =! "CentOS Linux release 7*" ]

		echo '本スクリプトはCentOS7用となります'
		
		echo 1
	fi

else

	echo '本スクリプトはCentOS7用となります'

	exit 1	

fi


#========================================================================================
# 本処理
#========================================================================================

### 新規ユーザー作成 ####################################################################

echo '新規ユーザー作成'

